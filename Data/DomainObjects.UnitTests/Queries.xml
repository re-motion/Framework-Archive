<?xml version="1.0" encoding="UTF-8" ?>
<queries 
    application="UnitTests" 
    xmlns="http://www.rubicon-it.com/Data/DomainObjects/Queries/1.0" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.rubicon-it.com/Data/DomainObjects/Queries/1.0 ..\DomainObjects\Schemas\Queries.xsd">

  <query id="QueryWithoutParameter" type="scalar">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>select 42</statement>
  </query>

  <query id="OrderNoSumByCustomerNameQuery" type="scalar">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>
      select sum([Order_OrderNo])
      from [OrderView] inner join [CustomerView] on [Order_CustomerID] = [CustomerView].[ID]
      where Company_Name = @customerName;
    </statement>
  </query>

  <query id="OrderNoSumForMultipleCustomers" type="scalar">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>
      select sum([Order_OrderNo])
      from [OrderView] inner join [CustomerView] on [Order_CustomerID] = [CustomerView].[ID]
      where [Company_Name] in ({companyNames});
    </statement>
  </query>

  <query id="BulkUpdateQuery" type="scalar">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>
      update [OrderView] set [Order_DeliveryDate] = '2006/01/01' where [Order_CustomerID] = @customerID;
      select @@ROWCOUNT;
    </statement>
  </query>

  <query id="OrderQuery" type="collection">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>select [OrderView].* from [OrderView] where [Order_CustomerID] = @customerID order by [Order_OrderNo] asc;</statement>
    <collectionType>Rubicon.Data.DomainObjects.UnitTests.TestDomain.OrderCollection, Rubicon.Data.DomainObjects.UnitTests</collectionType>
  </query>

  <query id="OrderByOfficialQuery" type="collection">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>select [OrderView].* from [OrderView] where [Order_OfficialID] = @officialID order by [Order_OrderNo] asc;</statement>
    <collectionType>Rubicon.Data.DomainObjects.UnitTests.TestDomain.OrderCollection, Rubicon.Data.DomainObjects.UnitTests</collectionType>
  </query>

  <query id="CustomerTypeQuery" type="collection">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>select * from [CustomerView] where [Customer_CustomerType] = @customerType order by [Company_Name] asc;</statement>
  </query>

  <query id="QueryWithAllDataTypes" type="collection">
    <storageProviderID>TestDomain</storageProviderID>
    <!-- SQL statement with invalid XML character value. -->
    <statement>
    	 <![CDATA[
	      set ANSI_NULLS OFF;
	      select * from TableWithAllDataTypesView where 
	        [ClassWithAllDataTypes_Boolean] = @boolean and
	        [ClassWithAllDataTypes_Byte] = @byte and
	        [ClassWithAllDataTypes_Date] = @date and
	        [ClassWithAllDataTypes_DateTime] = @dateTime and
	        [ClassWithAllDataTypes_Decimal] = @decimal and
	        [ClassWithAllDataTypes_Double] > @doubleLowerBound and [ClassWithAllDataTypes_Double] < @doubleUpperBound and
	        [ClassWithAllDataTypes_Enum] = @enum and
	        [ClassWithAllDataTypes_Guid] = @guid and
	        [ClassWithAllDataTypes_Int16] = @int16 and
	        [ClassWithAllDataTypes_Int32] = @int32 and
	        [ClassWithAllDataTypes_Int64] = @int64 and
	        [ClassWithAllDataTypes_Single] > @singleLowerBound and [ClassWithAllDataTypes_Single] < @singleUpperBound and
	        [ClassWithAllDataTypes_String] = @string and
          -- Note: StringWithoutMaxLength cannot be used here, because it is of type 'text'.
	        [ClassWithAllDataTypes_NaBoolean] = @naBoolean and
	        [ClassWithAllDataTypes_NaByte] = @naByte and
	        [ClassWithAllDataTypes_NaDate] = @naDate and
	        [ClassWithAllDataTypes_NaDateTime] = @naDateTime and
	        [ClassWithAllDataTypes_NaDecimal] = @naDecimal and
	        [ClassWithAllDataTypes_NaDouble] > @naDoubleLowerBound and [ClassWithAllDataTypes_NaDouble] < @naDoubleUpperBound and
	        [ClassWithAllDataTypes_NaGuid] = @naGuid and
	        [ClassWithAllDataTypes_NaInt16] = @naInt16 and
	        [ClassWithAllDataTypes_NaInt32] = @naInt32 and
	        [ClassWithAllDataTypes_NaInt64] = @naInt64 and
	        [ClassWithAllDataTypes_NaSingle] > @naSingleLowerBound and [ClassWithAllDataTypes_NaSingle] < @naSingleUpperBound and
	        [ClassWithAllDataTypes_StringWithNullValue] = @stringWithNullValue and
	        [ClassWithAllDataTypes_NaBooleanWithNullValue] = @naBooleanWithNullValue and 
	        [ClassWithAllDataTypes_NaByteWithNullValue] = @naByteWithNullValue and 
	        [ClassWithAllDataTypes_NaDateWithNullValue] = @naDateWithNullValue and
	        [ClassWithAllDataTypes_NaDateTimeWithNullValue] = @naDateTimeWithNullValue and
	        [ClassWithAllDataTypes_NaDecimalWithNullValue] = @naDecimalWithNullValue and 	        
	        [ClassWithAllDataTypes_NaDoubleWithNullValue] = @naDoubleWithNullValue and
	        [ClassWithAllDataTypes_NaGuidWithNullValue] = @naGuidWithNullValue and
	        [ClassWithAllDataTypes_NaInt16WithNullValue] = @naInt16WithNullValue and
	        [ClassWithAllDataTypes_NaInt32WithNullValue] = @naInt32WithNullValue and
	        [ClassWithAllDataTypes_NaInt64WithNullValue] = @naInt64WithNullValue and
	        [ClassWithAllDataTypes_NaSingleWithNullValue] = @naSingleWithNullValue;
	    ]]>      
    </statement>
  </query>

  <query id="StoredProcedureQuery" type="collection">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>rpf_testSPQuery</statement>
    <collectionType>Rubicon.Data.DomainObjects.UnitTests.TestDomain.OrderCollection, Rubicon.Data.DomainObjects.UnitTests</collectionType>
  </query>

  <query id="StoredProcedureQueryWithParameter" type="collection">
    <storageProviderID>TestDomain</storageProviderID>
    <statement>exec rpf_testSPQueryWithParameter @customerID</statement>
    <collectionType>Rubicon.Data.DomainObjects.UnitTests.TestDomain.OrderCollection, Rubicon.Data.DomainObjects.UnitTests</collectionType>
  </query>

</queries>